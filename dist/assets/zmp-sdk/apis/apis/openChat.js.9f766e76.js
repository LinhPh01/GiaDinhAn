import{t as c}from"../external/@swc/helpers/src/_async_to_generator.mjs.js.ae57f58a.js";import{M as y,k as f,o as e}from"../external/zod/lib/index.mjs.js.08a2fb75.js";import{o as l}from"../appEnv/index.js.2da42b7a.js";import{o as d}from"../common/notFound.js.5b77983b.js";import{e as g}from"../utils/decorator.js.bf74d679.js";import{i as v}from"../common/apis/general/openChat.js.155c0888.js";import{e as h}from"../external/tslib/tslib.es6.js.20b0ea63.js";var I=[y({id:f(),type:e.enum(["user","oa"]),sourceId:e.any().optional(),sourceIndex:e.any().optional(),message:f().optional()}).optional()];function W(o){return t.apply(this,arguments)}function t(){return t=c(function(o){return h(this,function(M){return[2,g("openChat",I,[o],(n=c(function(r){var i,s,a,u,m;return h(this,function(p){switch(p.label){case 0:return l.isMp?(i=r.id,s=r.type,a=r.message,u=r.sourceId,m=r.sourceIndex,[4,v(i,s,a,u,m)]):[3,2];case 1:return[2,p.sent()];case 2:return l.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(d("openChat",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),t.apply(this,arguments)}export{W as u};
