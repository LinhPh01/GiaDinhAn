import{o as v}from"./query-string.js.48672b8d.js";var d={},f=function(e,o,s){var t=o||"default";return function(){return(t in d?d[t](e,s):e).apply(this,arguments)}};f.setWrapper=function(e){d[arguments.length<=1||arguments[1]===void 0?"default":arguments[1]]=e};var y={error:{code:1,error_subcode:1357046,message:"Received Invalid JSON reply.",type:"http"}};function m(e){try{return e===null?y:JSON.parse(e)}catch{return y}}var x={execute:function(e,o,s,t){s.suppress_http_code=1;var i=v.encode(s);o!="post"&&(e=v.appendToUrl(e,i),i="");var a=function(r,g){if(!self.XMLHttpRequest)return null;var n=new XMLHttpRequest,l=function(){};if(!("withCredentials"in n))return null;n.open(r,g,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var u={send:function(h){n.send(h)}},p=f(function(){p=l,"onload"in u&&u.onload(n)},"entry","XMLHttpRequest:load"),c=f(function(){c=l,"onerror"in u&&u.onerror(n)},"entry","XMLHttpRequest:error");return n.onload=function(){p()},n.onerror=function(){c()},n.onreadystatechange=function(){n.readyState==4&&(n.status==200?p():c())},u}(o,e);return!!a&&(a.onload=function(r){t(m(r.responseText))},a.onerror=function(r){r.responseText?t(m(r.responseText)):t({error:{code:1,error_subcode:1357045,message:"unknown error (empty response)",status:r.status,type:"http"}})},a.send(i),!0)}};export{x as u};
