import{_ as h}from"../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js.f3e2bd5f.js";import{_ as m}from"../../@babel/runtime/helpers/esm/extends.js.a0837302.js";import{_ as f}from"../../@babel/runtime/helpers/esm/assertThisInitialized.js.1bcde328.js";import{_ as v}from"../../@babel/runtime/helpers/esm/inheritsLoose.js.21936b44.js";import{R as d}from"../../react/index.js.1d37a627.js";import{T as c}from"./TransitionGroupContext.js.cb95252d.js";import{g as x,a as g,b as E}from"./utils/ChildMapping.js.b9275e4b.js";var y=Object.values||function(a){return Object.keys(a).map(function(n){return a[n]})},M={component:"div",childFactory:function(n){return n}},l=function(a){v(n,a);function n(s,t){var e;e=a.call(this,s,t)||this;var i=e.handleExited.bind(f(e));return e.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},e}var p=n.prototype;return p.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},p.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,e){var i=e.children,r=e.handleExited,o=e.firstRender;return{children:o?x(t,r):g(t,i,r),firstRender:!1}},p.handleExited=function(t,e){var i=E(this.props.children);t.key in i||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(r){var o=m({},r.children);return delete o[t.key],{children:o}}))},p.render=function(){var t=this.props,e=t.component,i=t.childFactory,r=h(t,["component","childFactory"]),o=this.state.contextValue,u=y(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,e===null?d.createElement(c.Provider,{value:o},u):d.createElement(c.Provider,{value:o},d.createElement(e,r,u))},n}(d.Component);l.propTypes={};l.defaultProps=M;var D=l;export{D as T};
