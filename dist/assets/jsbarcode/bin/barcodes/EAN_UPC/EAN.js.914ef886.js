import{E as f}from"./EAN.js_commonjs-exports.86ecddb1.js";import"./constants.js.bd84f410.js";import"./encoder.js.82587d5c.js";import"../Barcode.js.253a70fc.js";import{c}from"./constants.js_commonjs-exports.0215c894.js";import{e as d}from"./encoder.js_commonjs-exports.6e788ab3.js";import{B as h}from"../Barcode.js_commonjs-exports.fc132915.js";Object.defineProperty(f,"__esModule",{value:!0});var l=function(){function r(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,o,t){return o&&r(e.prototype,o),t&&r(e,t),e}}(),i=c,_=d,a=u(_),v=h,y=u(v);function u(r){return r&&r.__esModule?r:{default:r}}function E(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function g(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function s(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var m=function(r){s(e,r);function e(o,t){E(this,e);var n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o,t));return n.fontSize=!t.flat&&t.fontSize>t.width*10?t.width*10:t.fontSize,n.guardHeight=t.height+n.fontSize/2+t.textMargin,n}return l(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(t,n){return this.text.substr(t,n)}},{key:"leftEncode",value:function(t,n){return(0,a.default)(t,n)}},{key:"rightText",value:function(t,n){return this.text.substr(t,n)}},{key:"rightEncode",value:function(t,n){return(0,a.default)(t,n)}},{key:"encodeGuarded",value:function(){var t={fontSize:this.fontSize},n={height:this.guardHeight};return[{data:i.SIDE_BIN,options:n},{data:this.leftEncode(),text:this.leftText(),options:t},{data:i.MIDDLE_BIN,options:n},{data:this.rightEncode(),text:this.rightText(),options:t},{data:i.SIDE_BIN,options:n}]}},{key:"encodeFlat",value:function(){var t=[i.SIDE_BIN,this.leftEncode(),i.MIDDLE_BIN,this.rightEncode(),i.SIDE_BIN];return{data:t.join(""),text:this.text}}}]),e}(y.default);f.default=m;
