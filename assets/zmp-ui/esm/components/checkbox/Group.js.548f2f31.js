import{_ as A}from"../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js.f3e2bd5f.js";import{R as N}from"../../../../react/index.js.1d37a627.js";import{c as O}from"../../../../clsx/dist/clsx.m.js.babdd28a.js";import{g as B}from"../../utils/class.js.5fbce117.js";import{G as E}from"./context.js.05636237.js";import{C as L}from"./Checkbox.js.9f6ee4c2.js";import{j as d}from"../../../../swiper/swiper-react.mjs.93858f02.js";import{r as n}from"../../../../react/index.js_commonjs-module.36a72f64.js";var M=["className","defaultValue","children","options","onChange"],_=N.forwardRef(function(r,y){var G=r.className,R=r.defaultValue,S=r.children,v=r.options,l=v===void 0?[]:v,i=r.onChange,a=A(r,M),m=S,x=n.exports.useState(a.value||R||[]),t=x[0],g=x[1],p=N.useState([]),b=p[0],z=p[1];n.exports.useEffect(function(){"value"in a&&g(a.value||[])},[a,a.value]);var h=B("checkbox-group"),P=O(h,G),o=n.exports.useCallback(function(){return l.map(function(e){return typeof e=="string"||typeof e=="number"?{label:e,value:e}:e})},[l]);l&&l.length>0&&(m=o().map(function(e){return d(L,{disabled:"disabled"in e?e.disabled:a.disabled,name:e.name,value:e.value,checked:t.indexOf(e.value)!==-1,onChange:e.onChange,className:O(h+"-item",e.className),style:e.style,label:e.label},e.value.toString())}));var C=n.exports.useCallback(function(e){z(function(u){return[].concat(u,[e])})},[]),V=n.exports.useCallback(function(e){var u=t.indexOf(e.value),s=[].concat(t);u===-1?s.push(e.value):s.splice(u,1),"value"in a||g(s);var k=o();i==null||i(s.filter(function(c){return b.indexOf(c)!==-1}).sort(function(c,I){var $=k.findIndex(function(f){return f.value===c}),w=k.findIndex(function(f){return f.value===I});return $-w}))},[o,i,b,a,t]),j=n.exports.useMemo(function(){return{value:t,disabled:a.disabled,name:a.name,toggleOption:V,registerValue:C,size:a.size}},[t,a.disabled,a.name,V,C,a.size]);return d("div",{className:P,ref:y,children:d(E.Provider,{value:j,children:m})})});_.displayName="zaui-checkbox-group";var T=_;export{T as G};
