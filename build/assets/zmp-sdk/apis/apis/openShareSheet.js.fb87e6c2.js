import{t as s}from"../external/@swc/helpers/src/_async_to_generator.mjs.js.ae57f58a.js";import{o as a,M as t,k as e,w as o}from"../external/zod/lib/index.mjs.js.08a2fb75.js";import{o as d}from"../appEnv/index.js.2da42b7a.js";import{o as f}from"../common/notFound.js.5b77983b.js";import{e as c}from"../utils/decorator.js.bf74d679.js";import{p as y}from"../common/apis/general/openShareSheet.js.688ddecc.js";import{e as h}from"../external/tslib/tslib.es6.js.20b0ea63.js";var g=[a.union([t({type:a.enum(["text"]),data:t({text:e(),description:e().default("").optional(),autoParseLink:a.boolean().default(!1).optional()})}),t({type:a.enum(["image"]),data:t({imageUrl:e().url(),imageUrls:a.array(e().url()).max(10).optional()})}),t({type:a.enum(["link"]),data:t({link:e().url(),chatOnly:a.boolean().optional()})}),t({type:a.enum(["oa"]),data:t({id:e()})}),t({type:a.enum(["gif"]),data:t({gifUrl:e().url(),imageUrl:e().url().optional(),width:o().min(0).optional(),height:o().min(0).optional()})}),t({type:a.enum(["video"]),data:t({videoThumb:e().url(),videoUrl:e().url(),width:o().min(0).optional(),height:o().min(0).optional()})}),t({type:a.enum(["zmp","zmp_deep_link"]),data:t({title:e().max(100),thumbnail:e().url(),path:e().optional(),description:e().max(400).default("").optional()})})])];function P(n){return i.apply(this,arguments)}function i(){return i=s(function(n){return h(this,function(b){return[2,c("openShareSheet",g,[n],(p=s(function(r){var u,m;return h(this,function(l){switch(l.label){case 0:return d.isMp?(u=r.type,m=r.data,[4,y(u,m)]):[3,2];case 1:return[2,l.sent()];case 2:return d.isMpWeb?[2,Promise.resolve({status:2,shareType:0,numberOfUser:0})]:[2,Promise.reject(f("openShareSheet",{}))]}})}),function(r){return p.apply(this,arguments)}))];var p})}),i.apply(this,arguments)}export{P as u};
