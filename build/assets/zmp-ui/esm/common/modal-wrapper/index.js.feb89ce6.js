import{_}from"../../../../@babel/runtime/helpers/esm/defineProperty.js.55a495d7.js";import{_ as R}from"../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js.f3e2bd5f.js";import{c as D}from"../../../../clsx/dist/clsx.m.js.babdd28a.js";import{R as S}from"../../../../react/index.js.1d37a627.js";import{g as W}from"../../utils/class.js.5fbce117.js";import{j as E}from"../../../../swiper/swiper-react.mjs.93858f02.js";import{r as s}from"../../../../react/index.js_commonjs-module.36a72f64.js";var V=["visible","afterClose","maskClosable","onClose","children","style","className"];function d(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable})),t.push.apply(t,r)}return t}function N(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d(Object(t),!0).forEach(function(r){_(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}var L=function(e){var t=e.visible,r=t===void 0?!1:t,a=e.afterClose,c=e.maskClosable,v=c===void 0?!0:c,u=e.onClose,C=e.children,g=e.style,y=e.className,O=R(e,V),f=s.exports.useState(r),j=f[0],p=f[1],m=s.exports.useRef(),i=s.exports.useRef(!1),b=s.exports.useRef();s.exports.useEffect(function(){var n=document.querySelector(".zaui-page");r?(n&&n.classList.add("disable-scrolling"),p(!0)):n&&n.classList.remove("disable-scrolling")},[r]);var h=function(l){l||(p(!1),a==null||a())},w=function(){clearTimeout(b.current),i.current=!0},x=function(){b.current=setTimeout(function(){i.current=!1})},P=function(l){!v||(i.current?i.current=!1:m.current===l.target&&(u==null||u(l)))},M=W("modal-wrapper"),k=D(M,y);return E("div",{...O,ref:m,onClick:P,style:N({display:j?void 0:"none"},g||{}),className:k,role:"presentation",children:S.cloneElement(C,{onMouseDown:w,onMouseUp:x,onVisibleChanged:h})})},B=L;export{B as M};
