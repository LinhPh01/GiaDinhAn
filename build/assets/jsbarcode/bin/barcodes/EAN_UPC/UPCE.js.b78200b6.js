import{U as l}from"./UPCE.js_commonjs-exports.a3d94003.js";import"./encoder.js.82587d5c.js";import"../Barcode.js.253a70fc.js";import"./UPC.js.30fa41b7.js";import{e as c}from"./encoder.js_commonjs-exports.6e788ab3.js";import{B as h}from"../Barcode.js_commonjs-exports.fc132915.js";import{U as d}from"./UPC.js_commonjs-exports.d664d727.js";Object.defineProperty(l,"__esModule",{value:!0});var s=function(){function r(i,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}return function(i,n,t){return n&&r(i.prototype,n),t&&r(i,t),i}}(),X=c,g=O(X),p=h,v=O(p),y=d;function O(r){return r&&r.__esModule?r:{default:r}}function _(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function a(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function m(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var x=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],S=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],b=function(r){m(i,r);function i(n,t){_(this,i);var e=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,t));if(e.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)e.middleDigits=n,e.upcA=E(n,"0"),e.text=t.text||""+e.upcA[0]+n+e.upcA[e.upcA.length-1],e.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(e.middleDigits=n.substring(1,n.length-1),e.upcA=E(e.middleDigits,n[0]),e.upcA[e.upcA.length-1]===n[n.length-1])e.isValid=!0;else return a(e);else return a(e);return e.displayValue=t.displayValue,t.fontSize>t.width*10?e.fontSize=t.width*10:e.fontSize=t.fontSize,e.guardHeight=t.height+e.fontSize/2+t.textMargin,e}return s(i,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=this.encodeMiddleDigits(),t+="010101",{data:t,text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),t.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),t}},{key:"encodeMiddleDigits",value:function(){var t=this.upcA[0],e=this.upcA[this.upcA.length-1],u=S[parseInt(e)][parseInt(t)];return(0,g.default)(this.middleDigits,u)}}]),i}(v.default);function E(r,i){for(var n=parseInt(r[r.length-1]),t=x[n],e="",u=0,o=0;o<t.length;o++){var f=t[o];f==="X"?e+=r[u++]:e+=f}return e=""+i+e,""+e+(0,y.checksum)(e)}l.default=b;
